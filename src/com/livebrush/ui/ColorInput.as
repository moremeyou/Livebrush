package com.livebrush.ui
{
	import flash.events.Event;
	import flash.display.MovieClip;
	import flash.display.Sprite;
	import flash.events.MouseEvent;
	import fl.controls.TextInput;
	import flash.text.TextField;
	import flash.geom.ColorTransform;
	
	import com.livebrush.ui.Consol;
	import com.livebrush.data.Settings;
	
	import org.casalib.util.ColorUtil;
	
	
	public class ColorInput extends Sprite
	{
		
		//public static var upperCaseLabels			:Boolean = true;
		
		private var _color							:uint;
		private var _colorHexValue					:String;
		private var _cf								:ColorTransform;
		//private var _value							:String = "";
		//private var _labelStr						:String = "";
		
		public function ColorInput ():void
		{
			super();
			
			init();
		}
		
		//10x8
		// GET/SET PROPS ////////////////////////////////////////////////////////////////////////////////////
		/////////////////////////////////////////////////////////////////////////////////////////////////////
		public function get color ():uint {   return _color;   }
		public function set color (u:uint):void {   _setColor(u);   }
		public function get colorHexString ():String {   return _colorHexValue;   }
		public function set colorHexString (s:String):void {   _setColor(uint("0x"+s));   }
		public function get colorTransform ():ColorTransform {   return _cf;   }
		public function set value (s:Object):void {   color=uint(s);   }
		public function get value ():Object {   return color;   }
		public function set enabled (b:Boolean) {   try {   alpha=b?1:.25; _picker.enabled = b   } catch (e:Error){};   }
		public function get enabled ():Boolean {   return _picker.enabled;   }
	
		
		// SETUP ////////////////////////////////////////////////////////////////////////////////////////////
		/////////////////////////////////////////////////////////////////////////////////////////////////////
		private function init ():void
		{
			_picker.colors = [0xffffff,15066597,14211288,13421772,12566463,11711154,10855845,10066329,9211020,8355711,7500402,6645093,5855577,5000268,4144959,3355443,2500134,1644825,789516,0,0xE8E3E3,0xEBE0E0,0xEDDEDE,0xF0DBDB,0xF2D9D9,0xF5D6D6,0xF7D4D4,0xFAD1D1,0xFCCFCF,0xFFCCCC,0xD1C7C7,0xD6C2C2,0xDBBDBD,0xE0B8B8,0xE6B3B3,0xEBADAD,0xF0A8A8,0xF5A3A3,0xFA9E9E,0xFF9999,0xBAABAB,0xC2A3A3,0xC99C9C,0xD19494,0xD98C8C,0xE08585,0xE87D7D,0xF07575,0xF76E6E,0xFF6666,0xA38F8F,0xAD8585,0xB87A7A,0xC27070,0xCC6666,0xD65C5C,0xE05252,0xEB4747,0xF53D3D,0xFF3333,0x8C7373,0x996666,0xA65959,0xB24D4D,0xBF4040,0xCC3333,0xD92626,0xE61919,0xF20D0D,0xFF0000,0x705C5C,0x7A5252,0x854747,0x8F3D3D,0x993333,0xA32929,0xAD1F1F,0xB81414,0xC20A0A,0xCC0000,0x544545,0x5C3D3D,0x633636,0x6B2E2E,0x732626,0x7A1F1F,0x821717,0x8A0F0F,0x910808,0x990000,0x382E2E,0x3D2929,0x422424,0x471F1F,0x4D1919,0x521414,0x570F0F,0x5C0A0A,0x610505,0x660000,0xE8E6E3,0xEBE6E0,0xEDE6DE,0xF0E6DB,0xF2E6D9,0xF5E6D6,0xF7E6D4,0xFAE6D1,0xFCE6CF,0xFFE6CC,0xD1CCC7,0xD6CCC2,0xDBCCBD,0xE0CCB8,0xE6CCB3,0xEBCCAD,0xF0CCA8,0xF5CCA3,0xFACC9E,0xFFCC99,0xBAB2AB,0xC2B2A3,0xC9B29C,0xD1B294,0xD9B28C,0xE0B285,0xE8B27D,0xF0B275,0xF7B26E,0xFFB266,0xA3998F,0xAD9985,0xB8997A,0xC29970,0xCC9966,0xD6995C,0xE09952,0xEB9947,0xF5993D,0xFF9933,0x8C8073,0x998066,0xA68059,0xB2804D,0xBF8040,0xCC8033,0xD98026,0xE68019,0xF2800D,0xFF8000,0x70665C,0x7A6652,0x856647,0x8F663D,0x996633,0xA36629,0xAD661F,0xB86614,0xC2660A,0xCC6600,0x544C45,0x5C4C3D,0x634C36,0x6B4C2E,0x734C26,0x7A4C1F,0x824C17,0x8A4C0F,0x914C08,0x994C00,0x38332E,0x3D3329,0x423324,0x47331F,0x4D3319,0x523314,0x57330F,0x5C330A,0x613305,0x663300,0xE8E8E3,0xEBEBE0,0xEDEDDE,0xF0F0DB,0xF2F2D9,0xF5F5D6,0xF7F7D4,0xFAFAD1,0xFCFCCF,0xFFFFCC,0xD1D1C7,0xD6D6C2,0xDBDBBD,0xE0E0B8,0xE6E6B3,0xEBEBAD,0xF0F0A8,0xF5F5A3,0xFAFA9E,0xFFFF99,0xBABAAB,0xC2C2A3,0xC9C99C,0xD1D194,0xD9D98C,0xE0E085,0xE8E87D,0xF0F075,0xF7F76E,0xFFFF66,0xA3A38F,0xADAD85,0xB8B87A,0xC2C270,0xCCCC66,0xD6D65C,0xE0E052,0xEBEB47,0xF5F53D,0xFFFF33,0x8C8C73,0x999966,0xA6A659,0xB2B24D,0xBFBF40,0xCCCC33,0xD9D926,0xE5E619,0xF2F20D,0xFFFF00,0x70705C,0x7A7A52,0x858547,0x8F8F3D,0x999933,0xA3A329,0xADAD1F,0xB8B814,0xC2C20A,0xCCCC00,0x545445,0x5C5C3D,0x636336,0x6B6B2E,0x737326,0x7A7A1F,0x828217,0x8A8A0F,0x919108,0x999900,0x38382E,0x3D3D29,0x424224,0x47471F,0x4C4D19,0x525214,0x57570F,0x5C5C0A,0x616105,0x666600,0xE6E8E3,0xE6EBE0,0xE6EDDE,0xE6F0DB,0xE6F2D9,0xE6F5D6,0xE6F7D4,0xE6FAD1,0xE6FCCF,0xE6FFCC,0xCCD1C7,0xCCD6C2,0xCCDBBD,0xCCE0B8,0xCCE6B3,0xCCEBAD,0xCCF0A8,0xCCF5A3,0xCCFA9E,0xCCFF99,0xB2BAAB,0xB2C2A3,0xB2C99C,0xB2D194,0xB3D98C,0xB3E085,0xB3E87D,0xB3F075,0xB3F76E,0xB3FF66,0x99A38F,0x99AD85,0x99B87A,0x99C270,0x99CC66,0x99D65C,0x99E052,0x99EB47,0x99F53D,0x99FF33,0x808C73,0x809966,0x80A659,0x80B24D,0x80BF40,0x80CC33,0x80D926,0x80E619,0x80F20D,0x80FF00,0x66705C,0x667A52,0x668547,0x668F3D,0x669933,0x66A329,0x66AD1F,0x66B814,0x66C20A,0x66CC00,0x4C5445,0x4C5C3D,0x4D6336,0x4D6B2E,0x4D7326,0x4D7A1F,0x4D8217,0x4D8A0F,0x4D9108,0x4D9900,0x33382E,0x333D29,0x334224,0x33471F,0x334D19,0x335214,0x33570F,0x335C0A,0x336105,0x336600,0xE3E8E3,0xE0EBE0,0xDEEDDE,0xDBF0DB,0xD9F2D9,0xD6F5D6,0xD4F7D4,0xD1FAD1,0xCFFCCF,0xCCFFCC,0xC7D1C7,0xC2D6C2,0xBDDBBD,0xB8E0B8,0xB3E6B3,0xADEBAD,0xA8F0A8,0xA3F5A3,0x9EFA9E,0x99FF99,0xABBAAB,0xA3C2A3,0x9CC99C,0x94D194,0x8CD98C,0x85E085,0x7DE87D,0x75F075,0x6EF76E,0x66FF66,0x8FA38F,0x85AD85,0x7AB87A,0x70C270,0x66CC66,0x5CD65C,0x52E052,0x47EB47,0x3DF53D,0x33FF33,0x738C73,0x669966,0x59A659,0x4DB24D,0x40BF40,0x33CC33,0x26D926,0x19E619,0x0DF20D,0x00FF00,0x5C705C,0x527A52,0x478547,0x3D8F3D,0x339933,0x29A329,0x1FAD1F,0x14B814,0x0AC20A,0x00CC00,0x455445,0x3D5C3D,0x366336,0x2E6B2E,0x267326,0x1F7A1F,0x178217,0x0F8A0F,0x089108,0x009900,0x2E382E,0x293D29,0x244224,0x1F471F,0x194D19,0x145214,0x0F570F,0x0A5C0A,0x056105,0x006600,0xE3E8E6,0xE0EBE6,0xDEEDE6,0xDBF0E6,0xD9F2E6,0xD6F5E6,0xD4F7E6,0xD1FAE6,0xCFFCE6,0xCCFFE6,0xC7D1CC,0xC2D6CC,0xBDDBCC,0xB8E0CC,0xB3E6CC,0xADEBCC,0xA8F0CC,0xA3F5CC,0x9EFACC,0x99FFCC,0xABBAB2,0xA3C2B2,0x9CC9B2,0x94D1B2,0x8CD9B3,0x85E0B3,0x7DE8B3,0x75F0B3,0x6EF7B3,0x66FFB3,0x8FA399,0x85AD99,0x7AB899,0x70C299,0x66CC99,0x5CD699,0x52E099,0x47EB99,0x3DF599,0x33FF99,0x738C80,0x669980,0x59A680,0x4DB280,0x40BF80,0x33CC80,0x26D980,0x19E680,0x0DF280,0x00FF80,0x5C7066,0x527A66,0x478566,0x3D8F66,0x339966,0x29A366,0x1FAD66,0x14B866,0x0AC266,0x00CC66,0x45544C,0x3D5C4C,0x36634D,0x2E6B4D,0x26734D,0x1F7A4D,0x17824D,0x0F8A4D,0x08914D,0x00994D,0x2E3833,0x293D33,0x244233,0x1F4733,0x194D33,0x145233,0x0F5733,0x0A5C33,0x056133,0x006633,0xE3E8E8,0xE0EBEB,0xDEEDED,0xDBF0F0,0xD9F2F2,0xD6F5F5,0xD4F7F7,0xD1FAFA,0xCFFCFC,0xCCFFFF,0xC7D1D1,0xC2D6D6,0xBDDBDB,0xB8E0E0,0xB3E6E6,0xADEBEB,0xA8F0F0,0xA3F5F5,0x9EFAFA,0x99FFFF,0xABBABA,0xA3C2C2,0x9CC9C9,0x94D1D1,0x8CD9D9,0x85E0E0,0x7DE8E8,0x75F0F0,0x6EF7F7,0x66FFFF,0x8FA3A3,0x85ADAD,0x7AB8B8,0x70C2C2,0x66CCCC,0x5CD6D6,0x52E0E0,0x47EBEB,0x3DF5F5,0x33FFFF,0x738C8C,0x669999,0x59A6A6,0x4DB2B2,0x40BFBF,0x33CCCC,0x26D9D9,0x19E5E6,0x0DF2F2,0x00FFFF,0x5C7070,0x527A7A,0x478585,0x3D8F8F,0x339999,0x29A3A3,0x1FADAD,0x14B8B8,0x0AC2C2,0x00CCCC,0x455454,0x3D5C5C,0x366363,0x2E6B6B,0x267373,0x1F7A7A,0x178282,0x0F8A8A,0x089191,0x009999,0x2E3838,0x293D3D,0x244242,0x1F4747,0x194C4D,0x145252,0x0F5757,0x0A5C5C,0x056161,0x006666,0xE3E6E8,0xE0E6EB,0xDEE6ED,0xDBE6F0,0xD9E6F2,0xD6E6F5,0xD4E5F7,0xD1E5FA,0xCFE5FC,0xCCE5FF,0xC7CCD1,0xC2CCD6,0xBDCCDB,0xB8CCE0,0xB3CCE6,0xADCCEB,0xA8CCF0,0xA3CCF5,0x9ECCFA,0x99CCFF,0xABB2BA,0xA3B2C2,0x9CB2C9,0x94B2D1,0x8CB2D9,0x85B2E0,0x7DB2E8,0x75B2F0,0x6EB2F7,0x66B2FF,0x8F99A3,0x8599AD,0x7A99B8,0x7099C2,0x6699CC,0x5C99D6,0x5299E0,0x4799EB,0x3D99F5,0x3399FF,0x737F8C,0x667F99,0x597FA6,0x4D7FB2,0x407FBF,0x337FCC,0x267FD9,0x197FE6,0x0D7FF2,0x007FFF,0x5C6670,0x52667A,0x476685,0x3D668F,0x336699,0x2966A3,0x1F66AD,0x1466B8,0x0A66C2,0x0066CC,0x454C54,0x3D4C5C,0x364C63,0x2E4C6B,0x264C73,0x1F4C7A,0x174C82,0x0F4C8A,0x084C91,0x004C99,0x2E3338,0x29333D,0x243342,0x1F3347,0x19334D,0x143352,0x0F3357,0x0A335C,0x053361,0x003366,0xE3E3E8,0xE0E0EB,0xDEDEED,0xDBDBF0,0xD9D9F2,0xD6D6F5,0xD4D4F7,0xD1D1FA,0xCFCFFC,0xCCCCFF,0xC7C7D1,0xC2C2D6,0xBDBDDB,0xB8B8E0,0xB3B3E6,0xADADEB,0xA8A8F0,0xA3A3F5,0x9E9EFA,0x9999FF,0xABABBA,0xA3A3C2,0x9C9CC9,0x9494D1,0x8C8CD9,0x8585E0,0x7D7DE8,0x7575F0,0x6E6EF7,0x6666FF,0x8F8FA3,0x8585AD,0x7A7AB8,0x7070C2,0x6666CC,0x5C5CD6,0x5252E0,0x4747EB,0x3D3DF5,0x3333FF,0x73738C,0x666699,0x5959A6,0x4D4DB2,0x4040BF,0x3333CC,0x2626D9,0x1919E6,0x0D0DF2,0x0000FF,0x5C5C70,0x52527A,0x474785,0x3D3D8F,0x333399,0x2929A3,0x1F1FAD,0x1414B8,0x0A0AC2,0x0000CC,0x454554,0x3D3D5C,0x363663,0x2E2E6B,0x262673,0x1F1F7A,0x171782,0x0F0F8A,0x080891,0x000099,0x2E2E38,0x29293D,0x242442,0x1F1F47,0x19194D,0x141452,0x0F0F57,0x0A0A5C,0x050561,0x000066,0xE6E3E8,0xE6E0EB,0xE6DEED,0xE6DBF0,0xE6D9F2,0xE6D6F5,0xE5D4F7,0xE5D1FA,0xE5CFFC,0xE5CCFF,0xCCC7D1,0xCCC2D6,0xCCBDDB,0xCCB8E0,0xCCB3E6,0xCCADEB,0xCCA8F0,0xCCA3F5,0xCC9EFA,0xCC99FF,0xB2ABBA,0xB2A3C2,0xB29CC9,0xB294D1,0xB28CD9,0xB285E0,0xB27DE8,0xB275F0,0xB26EF7,0xB266FF,0x998FA3,0x9985AD,0x997AB8,0x9970C2,0x9966CC,0x995CD6,0x9952E0,0x9947EB,0x993DF5,0x9933FF,0x7F738C,0x7F6699,0x7F59A6,0x7F4DB2,0x7F40BF,0x7F33CC,0x7F26D9,0x7F19E6,0x7F0DF2,0x7F00FF,0x665C70,0x66527A,0x664785,0x663D8F,0x663399,0x6629A3,0x661FAD,0x6614B8,0x660AC2,0x6600CC,0x4C4554,0x4C3D5C,0x4C3663,0x4C2E6B,0x4C2673,0x4C1F7A,0x4C1782,0x4C0F8A,0x4C0891,0x4C0099,0x332E38,0x33293D,0x332442,0x331F47,0x33194D,0x331452,0x330F57,0x330A5C,0x330561,0x330066,0xE8E3E8,0xEBE0EB,0xEDDEED,0xF0DBF0,0xF2D9F2,0xF5D6F5,0xF7D4F7,0xFAD1FA,0xFCCFFC,0xFFCCFF,0xD1C7D1,0xD6C2D6,0xDBBDDB,0xE0B8E0,0xE6B3E6,0xEBADEB,0xF0A8F0,0xF5A3F5,0xFA9EFA,0xFF99FF,0xBAABBA,0xC2A3C2,0xC99CC9,0xD194D1,0xD98CD9,0xE085E0,0xE87DE8,0xF075F0,0xF76EF7,0xFF66FF,0xA38FA3,0xAD85AD,0xB87AB8,0xC270C2,0xCC66CC,0xD65CD6,0xE052E0,0xEB47EB,0xF53DF5,0xFF33FF,0x8C738C,0x996699,0xA659A6,0xB24DB2,0xBF40BF,0xCC33CC,0xD926D9,0xE619E5,0xF20DF2,0xFF00FF,0x705C70,0x7A527A,0x854785,0x8F3D8F,0x993399,0xA329A3,0xAD1FAD,0xB814B8,0xC20AC2,0xCC00CC,0x544554,0x5C3D5C,0x633663,0x6B2E6B,0x732673,0x7A1F7A,0x821782,0x8A0F8A,0x910891,0x990099,0x382E38,0x3D293D,0x422442,0x471F47,0x4D194C,0x521452,0x570F57,0x5C0A5C,0x610561,0x660066,0xE8E3E6,0xEBE0E6,0xEDDEE6,0xF0DBE6,0xF2D9E6,0xF5D6E6,0xF7D4E6,0xFAD1E6,0xFCCFE6,0xFFCCE6,0xD1C7CC,0xD6C2CC,0xDBBDCC,0xE0B8CC,0xE6B3CC,0xEBADCC,0xF0A8CC,0xF5A3CC,0xFA9ECC,0xFF99CC,0xBAABB2,0xC2A3B2,0xC99CB2,0xD194B2,0xD98CB3,0xE085B3,0xE87DB3,0xF075B3,0xF76EB3,0xFF66B3,0xA38F99,0xAD8599,0xB87A99,0xC27099,0xCC6699,0xD65C99,0xE05299,0xEB4799,0xF53D99,0xFF3399,0x8C7380,0x996680,0xA65980,0xB24D80,0xBF4080,0xCC3380,0xD92680,0xE61980,0xF20D80,0xFF0080,0x705C66,0x7A5266,0x854766,0x8F3D66,0x993366,0xA32966,0xAD1F66,0xB81466,0xC20A66,0xCC0066,0x54454C,0x5C3D4C,0x63364D,0x6B2E4D,0x73264D,0x7A1F4D,0x82174D,0x8A0F4D,0x91084D,0x99004D,0x382E33,0x3D2933,0x422433,0x471F33,0x4D1933,0x521433,0x570F33,0x5C0A33,0x610533,0x660033]

			_picker.setStyle("columnCount", 20)
			_picker.setStyle("swatchPadding", 0);
			
			_cf = new ColorTransform();
			_picker.addEventListener(MouseEvent.CLICK, pickerClick);
			_picker.addEventListener(Event.CHANGE, pickerChange);
		}
		
		
		// EVENT LISTENERS //////////////////////////////////////////////////////////////////////////////////
		/////////////////////////////////////////////////////////////////////////////////////////////////////
		private function pickerClick (e:MouseEvent):void
		{
			//_picker.selectedColor = color;
		}
		
		private function pickerChange (e:Event):void
		{
			//e.stopImmediatePropagation();
			color = _picker.selectedColor;
		}
		
		
		// INTERNAL ACTIONS /////////////////////////////////////////////////////////////////////////////////
		/////////////////////////////////////////////////////////////////////////////////////////////////////
		private function _setColor (u:uint):void
		{
			var c:Object = ColorUtil.getRGB(u);
			_colorHexValue = ColorUtil.getHexStringFromRGB(c.r, c.g, c.b);
			_cf.color = u;
			_colorBg.transform.colorTransform = _cf;
			_color = u;
		}
		
		
		// PUBLIC ACTIONS ///////////////////////////////////////////////////////////////////////////////////
		/////////////////////////////////////////////////////////////////////////////////////////////////////
		
		
		
		// UTILS ////////////////////////////////////////////////////////////////////////////////////////////
		/////////////////////////////////////////////////////////////////////////////////////////////////////
		
		
		// DEBUG ////////////////////////////////////////////////////////////////////////////////////////////
		/////////////////////////////////////////////////////////////////////////////////////////////////////


	}
	
	
}